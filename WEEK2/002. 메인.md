# 아래 과정은 bootc로 ISO 이미지 파일을 생성하고 이를 클라이언트에 설치함

(1) Containerfile 생성
vi Containerfile
----------------------
# 베이스 이미지
FROM quay.io/centos-bootc/centos-bootc:stream9

# Zabbix 패키지 설치 (공식 저장소 추가)
RUN rpm -Uvh https://repo.zabbix.com/zabbix/6.4/rhel/9/x86_64/zabbix-release-6.4-1.el9.noarch.rpm && \
    dnf -y install zabbix-server-mysql zabbix-web-mysql zabbix-apache-conf zabbix-sql-scripts zabbix-agent && \
    dnf clean all

# SSH 설정 변경 (루트 로그인 허용)
RUN sed -i 's/#PermitRootLogin.*/PermitRootLogin yes/' /etc/ssh/sshd_config

# 네트워크 설정 (고정 IP)
RUN echo -e "TYPE=Ethernet\nPROXY_METHOD=none\nBROWSER_ONLY=no\nBOOTPROTO=none\nIPADDR=192.168.10.55\nNETMASK=255.255.255.0\nGATEWAY=192.168.10.254\nDNS1=8.8.8.8" > /etc/sysconfig/network-scripts/ifcfg-eth0

# 서비스 활성화
RUN systemctl enable sshd zabbix-server zabbix-agent httpd

# bootc 이미지 검증
RUN bootc container lint





(2) 컨테이너 실행
podman build --no-cache -t localhost:5000/bootc-zabbix-os:v1 .

STEP 1/6: FROM quay.io/centos-bootc/centos-bootc:stream9
STEP 2/6: RUN rpm -Uvh https://repo.zabbix.com/zabbix/6.4/rhel/9/x86_64/zabbix-release-6.4-1.el9.noarch.rpm && dnf -y install zabbix-server-mysql zabbix-web-mysql zabbix-apache-conf zabbix-sql-scripts zabbix-agent && dnf clean all
warning: /var/tmp/rpm-tmp.BO07nO: Header V4 RSA/SHA512 Signature, key ID 08efa7dd: NOKEY
Retrieving https://repo.zabbix.com/zabbix/6.4/rhel/9/x86_64/zabbix-release-6.4-1.el9.noarch.rpm
Verifying... ########################################
Preparing... ########################################
Updating / installing...
zabbix-release-6.4-1.el9 ########################################
Updating Subscription Management repositories.
Unable to read consumer identity

This system is not registered with an entitlement server. You can use subscription-manager to register.

CentOS Stream 9 - BaseOS 1.3 MB/s | 8.7 MB 00:06
CentOS Stream 9 - AppStream 2.0 MB/s | 23 MB 00:11
CentOS Stream 9 - Extras packages 16 kB/s | 19 kB 00:01
Zabbix Official Repository - x86_64 151 kB/s | 340 kB 00:02
Zabbix Official Repository non-supported - x86_ 678 B/s | 1.1 kB 00:01
Dependencies resolved.
================================================================================
 Package Arch Version Repository Size
================================================================================
Installing:
 zabbix-agent x86_64 6.4.21-release1.el9 zabbix 566 k
 zabbix-apache-conf noarch 6.4.21-release1.el9 zabbix 12 k
 zabbix-server-mysql x86_64 6.4.21-release1.el9 zabbix 2.0 M
 zabbix-sql-scripts noarch 6.4.21-release1.el9 zabbix 8.0 M
 zabbix-web-mysql noarch 6.4.21-release1.el9 zabbix 11 k
Installing dependencies:
 OpenIPMI-libs x86_64 2.0.36-1.el9 appstream 513 k
 apr x86_64 1.7.0-12.el9 appstream 123 k
 apr-util x86_64 1.6.1-23.el9 appstream 95 k
 apr-util-bdb x86_64 1.6.1-23.el9 appstream 13 k
 centos-logos-httpd noarch 90.8-3.el9 appstream 1.5 M
 dejavu-sans-fonts noarch 2.37-18.el9 baseos 1.3 M
 fontconfig x86_64 2.14.0-2.el9 appstream 297 k
 fonts-filesystem noarch 1:2.0.5-7.el9.1 baseos 10 k
 fping x86_64 5.1-1.el9 zabbix-non-supported 35 k
 freetype x86_64 2.10.4-9.el9 baseos 388 k
 gd x86_64 2.3.2-3.el9 appstream 132 k
 graphite2 x86_64 1.3.14-9.el9 baseos 95 k
 harfbuzz x86_64 2.7.4-10.el9 baseos 624 k
 httpd x86_64 2.4.62-4.el9 appstream 47 k
 httpd-core x86_64 2.4.62-4.el9 appstream 1.5 M
 httpd-filesystem noarch 2.4.62-4.el9 appstream 13 k
 httpd-tools x86_64 2.4.62-4.el9 appstream 82 k
 jbigkit-libs x86_64 2.1-23.el9 appstream 53 k
 langpacks-core-font-en noarch 3.0-16.el9 appstream 11 k
 libX11 x86_64 1.7.0-11.el9 appstream 646 k
 libX11-common noarch 1.7.0-11.el9 appstream 205 k
 libXau x86_64 1.0.9-8.el9 appstream 31 k
 libXpm x86_64 3.5.13-10.el9 appstream 59 k
 libjpeg-turbo x86_64 2.0.90-7.el9 appstream 175 k
 libpng x86_64 2:1.6.37-12.el9 baseos 117 k
 libtiff x86_64 4.4.0-13.el9 appstream 198 k
 libwebp x86_64 1.2.0-8.el9 appstream 277 k
 libxcb x86_64 1.13.1-9.el9 appstream 243 k
 libxslt x86_64 1.1.34-12.el9 appstream 233 k
 mailcap noarch 2.1.49-5.el9 baseos 33 k
 mariadb-connector-c x86_64 3.2.6-1.el9 appstream 198 k
 mariadb-connector-c-config
                          noarch 3.2.6-1.el9 appstream 11 k
 net-snmp-libs x86_64 1:5.9.1-17.el9 appstream 756 k
 nginx-filesystem noarch 2:1.20.1-22.el9 appstream 9.8 k
 php-bcmath x86_64 8.0.30-2.el9 appstream 34 k
 php-common x86_64 8.0.30-2.el9 appstream 683 k
 php-fpm x86_64 8.0.30-2.el9 appstream 1.6 M
 php-gd x86_64 8.0.30-2.el9 appstream 40 k
 php-ldap x86_64 8.0.30-2.el9 appstream 40 k
 php-mbstring x86_64 8.0.30-2.el9 appstream 469 k
 php-mysqlnd x86_64 8.0.30-2.el9 appstream 151 k
 php-pdo x86_64 8.0.30-2.el9 appstream 82 k
 php-xml x86_64 8.0.30-2.el9 appstream 135 k
 unixODBC x86_64 2.3.9-4.el9 appstream 491 k
 xml-common noarch 0.6.3-58.el9 appstream 32 k
 zabbix-web noarch 6.4.21-release1.el9 zabbix 7.8 M
 zabbix-web-deps noarch 6.4.21-release1.el9 zabbix 12 k
Installing weak dependencies:
 apr-util-openssl x86_64 1.6.1-23.el9 appstream 15 k
 mod_http2 x86_64 2.0.26-4.el9 appstream 163 k
 mod_lua x86_64 2.4.62-4.el9 appstream 60 k

Transaction Summary
================================================================================
Install 55 Packages

Total download size: 32 M
Installed size: 110 M
Downloading Packages:
(1/55): fonts-filesystem-2.0.5-7.el9.1.noarch.r 21 kB/s | 10 kB 00:00
(2/55): graphite2-1.3.14-9.el9.x86_64.rpm 409 kB/s | 95 kB 00:00
(3/55): freetype-2.10.4-9.el9.x86_64.rpm 76 kB/s | 388 kB 00:05
(4/55): harfbuzz-2.7.4-10.el9.x86_64.rpm 143 kB/s | 624 kB 00:04
(5/55): dejavu-sans-fonts-2.37-18.el9.noarch.rp 265 kB/s | 1.3 MB 00:05
(6/55): mailcap-2.1.49-5.el9.noarch.rpm 150 kB/s | 33 kB 00:00
(7/55): OpenIPMI-libs-2.0.36-1.el9.x86_64.rpm 1.6 MB/s | 513 kB 00:00
(8/55): apr-util-1.6.1-23.el9.x86_64.rpm 1.9 MB/s | 95 kB 00:00
(9/55): libpng-1.6.37-12.el9.x86_64.rpm 310 kB/s | 117 kB 00:00
(10/55): apr-util-bdb-1.6.1-23.el9.x86_64.rpm 315 kB/s | 13 kB 00:00
(11/55): apr-1.7.0-12.el9.x86_64.rpm 608 kB/s | 123 kB 00:00
(12/55): apr-util-openssl-1.6.1-23.el9.x86_64.r 101 kB/s | 15 kB 00:00
(13/55): fontconfig-2.14.0-2.el9.x86_64.rpm 2.0 MB/s | 297 kB 00:00
(14/55): httpd-2.4.62-4.el9.x86_64.rpm 1.0 MB/s | 47 kB 00:00
(15/55): gd-2.3.2-3.el9.x86_64.rpm 849 kB/s | 132 kB 00:00
(16/55): centos-logos-httpd-90.8-3.el9.noarch.r 4.7 MB/s | 1.5 MB 00:00
(17/55): httpd-filesystem-2.4.62-4.el9.noarch.r 244 kB/s | 13 kB 00:00
(18/55): httpd-tools-2.4.62-4.el9.x86_64.rpm 1.7 MB/s | 82 kB 00:00
(19/55): jbigkit-libs-2.1-23.el9.x86_64.rpm 1.0 MB/s | 53 kB 00:00
(20/55): langpacks-core-font-en-3.0-16.el9.noar 129 kB/s | 11 kB 00:00
(21/55): libX11-common-1.7.0-11.el9.noarch.rpm 3.3 MB/s | 205 kB 00:00
(22/55): httpd-core-2.4.62-4.el9.x86_64.rpm 4.6 MB/s | 1.5 MB 00:00
(23/55): libXau-1.0.9-8.el9.x86_64.rpm 708 kB/s | 31 kB 00:00
(24/55): libXpm-3.5.13-10.el9.x86_64.rpm 1.2 MB/s | 59 kB 00:00
(25/55): libjpeg-turbo-2.0.90-7.el9.x86_64.rpm 2.9 MB/s | 175 kB 00:00
(26/55): libX11-1.7.0-11.el9.x86_64.rpm 2.6 MB/s | 646 kB 00:00
(27/55): libtiff-4.4.0-13.el9.x86_64.rpm 3.2 MB/s | 198 kB 00:00
(28/55): libxslt-1.1.34-12.el9.x86_64.rpm 2.0 MB/s | 233 kB 00:00
(29/55): libwebp-1.2.0-8.el9.x86_64.rpm 1.9 MB/s | 277 kB 00:00
(30/55): libxcb-1.13.1-9.el9.x86_64.rpm 1.6 MB/s | 243 kB 00:00
(31/55): mod_http2-2.0.26-4.el9.x86_64.rpm 2.9 MB/s | 163 kB 00:00
(32/55): mariadb-connector-c-3.2.6-1.el9.x86_64 2.3 MB/s | 198 kB 00:00
(33/55): mariadb-connector-c-config-3.2.6-1.el9 129 kB/s | 11 kB 00:00
(34/55): mod_lua-2.4.62-4.el9.x86_64.rpm 1.3 MB/s | 60 kB 00:00
(35/55): nginx-filesystem-1.20.1-22.el9.noarch. 235 kB/s | 9.8 kB 00:00
(36/55): php-bcmath-8.0.30-2.el9.x86_64.rpm 581 kB/s | 34 kB 00:00
(37/55): net-snmp-libs-5.9.1-17.el9.x86_64.rpm 3.8 MB/s | 756 kB 00:00
(38/55): php-gd-8.0.30-2.el9.x86_64.rpm 836 kB/s | 40 kB 00:00
(39/55): php-common-8.0.30-2.el9.x86_64.rpm 2.9 MB/s | 683 kB 00:00
(40/55): php-ldap-8.0.30-2.el9.x86_64.rpm 643 kB/s | 40 kB 00:00
(41/55): php-mysqlnd-8.0.30-2.el9.x86_64.rpm 2.1 MB/s | 151 kB 00:00
(42/55): php-mbstring-8.0.30-2.el9.x86_64.rpm 3.3 MB/s | 469 kB 00:00
(43/55): php-pdo-8.0.30-2.el9.x86_64.rpm 1.3 MB/s | 82 kB 00:00
(44/55): php-xml-8.0.30-2.el9.x86_64.rpm 2.4 MB/s | 135 kB 00:00
(45/55): php-fpm-8.0.30-2.el9.x86_64.rpm 3.8 MB/s | 1.6 MB 00:00
(46/55): xml-common-0.6.3-58.el9.noarch.rpm 454 kB/s | 32 kB 00:00
(47/55): unixODBC-2.3.9-4.el9.x86_64.rpm 4.3 MB/s | 491 kB 00:00
(48/55): zabbix-apache-conf-6.4.21-release1.el9 15 kB/s | 12 kB 00:00
(49/55): zabbix-agent-6.4.21-release1.el9.x86_6 320 kB/s | 566 kB 00:01
(50/55): zabbix-server-mysql-6.4.21-release1.el 805 kB/s | 2.0 MB 00:02
(51/55): zabbix-web-deps-6.4.21-release1.el9.no 14 kB/s | 12 kB 00:00
(52/55): zabbix-web-mysql-6.4.21-release1.el9.n 10 kB/s | 11 kB 00:01
(53/55): fping-5.1-1.el9.x86_64.rpm 33 kB/s | 35 kB 00:01
(54/55): zabbix-sql-scripts-6.4.21-release1.el9 1.3 MB/s | 8.0 MB 00:06
(55/55): zabbix-web-6.4.21-release1.el9.noarch. 835 kB/s | 7.8 MB 00:09
--------------------------------------------------------------------------------
Total 1.6 MB/s | 32 MB 00:20
CentOS Stream 9 - BaseOS 1.6 MB/s | 1.6 kB 00:00
Importing GPG key 0x8483C65D:
 Userid : "CentOS (CentOS Official Signing Key) <security@centos.org>"
 Fingerprint: 99DB 70FA E1D7 CE22 7FB6 4882 05B5 55B3 8483 C65D
 From : /etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial
Key imported successfully
Zabbix Official Repository - x86_64 3.0 MB/s | 3.1 kB 00:00
Importing GPG key 0x08EFA7DD:
 Userid : "Zabbix LLC (Jul 2022) <packager@zabbix.com>"
 Fingerprint: D9AA 84C2 B617 479C 6E4F CF4D 19F2 4753 08EF A7DD
 From : /etc/pki/rpm-gpg/RPM-GPG-KEY-ZABBIX-08EFA7DD
Key imported successfully
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing : 1/1
  Installing : php-common-8.0.30-2.el9.x86_64 1/55
  Installing : apr-1.7.0-12.el9.x86_64 2/55
  Installing : apr-util-bdb-1.6.1-23.el9.x86_64 3/55
  Installing : apr-util-openssl-1.6.1-23.el9.x86_64 4/55
  Installing : apr-util-1.6.1-23.el9.x86_64 5/55
  Installing : net-snmp-libs-1:5.9.1-17.el9.x86_64 6/55
  Installing : libwebp-1.2.0-8.el9.x86_64 7/55
  Installing : libjpeg-turbo-2.0.90-7.el9.x86_64 8/55
  Running scriptlet: httpd-filesystem-2.4.62-4.el9.noarch 9/55
  Installing : httpd-filesystem-2.4.62-4.el9.noarch 9/55
  Installing : libpng-2:1.6.37-12.el9.x86_64 10/55
  Installing : fonts-filesystem-1:2.0.5-7.el9.1.noarch 11/55
  Installing : dejavu-sans-fonts-2.37-18.el9.noarch 12/55
  Installing : zabbix-web-6.4.21-release1.el9.noarch 13/55
  Running scriptlet: zabbix-web-6.4.21-release1.el9.noarch 13/55
  Installing : langpacks-core-font-en-3.0-16.el9.noarch 14/55
  Installing : OpenIPMI-libs-2.0.36-1.el9.x86_64 15/55
  Installing : httpd-tools-2.4.62-4.el9.x86_64 16/55
  Installing : php-bcmath-8.0.30-2.el9.x86_64 17/55
  Installing : php-ldap-8.0.30-2.el9.x86_64 18/55
  Installing : php-mbstring-8.0.30-2.el9.x86_64 19/55
  Installing : php-pdo-8.0.30-2.el9.x86_64 20/55
  Installing : php-mysqlnd-8.0.30-2.el9.x86_64 21/55
  Installing : fping-5.1-1.el9.x86_64 22/55
  Running scriptlet: xml-common-0.6.3-58.el9.noarch 23/55
  Installing : xml-common-0.6.3-58.el9.noarch 23/55
  Installing : unixODBC-2.3.9-4.el9.x86_64 24/55
  Running scriptlet: nginx-filesystem-2:1.20.1-22.el9.noarch 25/55
  Installing : nginx-filesystem-2:1.20.1-22.el9.noarch 25/55
  Installing : php-fpm-8.0.30-2.el9.x86_64 26/55
  Running scriptlet: php-fpm-8.0.30-2.el9.x86_64 26/55
  Installing : mariadb-connector-c-config-3.2.6-1.el9.noarch 27/55
  Installing : mariadb-connector-c-3.2.6-1.el9.x86_64 28/55
  Installing : libxslt-1.1.34-12.el9.x86_64 29/55
  Installing : php-xml-8.0.30-2.el9.x86_64 30/55
  Installing : libXau-1.0.9-8.el9.x86_64 31/55
  Installing : libxcb-1.13.1-9.el9.x86_64 32/55
  Installing : libX11-common-1.7.0-11.el9.noarch 33/55
  Installing : libX11-1.7.0-11.el9.x86_64 34/55
  Installing : libXpm-3.5.13-10.el9.x86_64 35/55
  Installing : jbigkit-libs-2.1-23.el9.x86_64 36/55
  Installing : libtiff-4.4.0-13.el9.x86_64 37/55
  Installing : centos-logos-httpd-90.8-3.el9.noarch 38/55
  Installing : mailcap-2.1.49-5.el9.noarch 39/55
  Installing : httpd-core-2.4.62-4.el9.x86_64 40/55
  Installing : mod_lua-2.4.62-4.el9.x86_64 41/55
  Installing : mod_http2-2.0.26-4.el9.x86_64 42/55
  Installing : httpd-2.4.62-4.el9.x86_64 43/55
  Running scriptlet: httpd-2.4.62-4.el9.x86_64 43/55
  Installing : graphite2-1.3.14-9.el9.x86_64 44/55
  Installing : harfbuzz-2.7.4-10.el9.x86_64 45/55
  Installing : freetype-2.10.4-9.el9.x86_64 46/55
  Installing : fontconfig-2.14.0-2.el9.x86_64 47/55
  Running scriptlet: fontconfig-2.14.0-2.el9.x86_64 47/55
  Installing : gd-2.3.2-3.el9.x86_64 48/55
  Installing : php-gd-8.0.30-2.el9.x86_64 49/55
  Installing : zabbix-web-deps-6.4.21-release1.el9.noarch 50/55
  Installing : zabbix-web-mysql-6.4.21-release1.el9.noarch 51/55
  Installing : zabbix-apache-conf-6.4.21-release1.el9.noarch 52/55
  Running scriptlet: zabbix-apache-conf-6.4.21-release1.el9.noarch 52/55
  Running scriptlet: zabbix-server-mysql-6.4.21-release1.el9.x86_64 53/55
  Installing : zabbix-server-mysql-6.4.21-release1.el9.x86_64 53/55
  Running scriptlet: zabbix-server-mysql-6.4.21-release1.el9.x86_64 53/55
  Installing : zabbix-sql-scripts-6.4.21-release1.el9.noarch 54/55
  Running scriptlet: zabbix-agent-6.4.21-release1.el9.x86_64 55/55
  Installing : zabbix-agent-6.4.21-release1.el9.x86_64 55/55
  Running scriptlet: zabbix-agent-6.4.21-release1.el9.x86_64 55/55
  Running scriptlet: httpd-2.4.62-4.el9.x86_64 55/55
  Running scriptlet: fontconfig-2.14.0-2.el9.x86_64 55/55
  Running scriptlet: zabbix-agent-6.4.21-release1.el9.x86_64 55/55
  Verifying : dejavu-sans-fonts-2.37-18.el9.noarch 1/55
  Verifying : fonts-filesystem-1:2.0.5-7.el9.1.noarch 2/55
  Verifying : freetype-2.10.4-9.el9.x86_64 3/55
  Verifying : graphite2-1.3.14-9.el9.x86_64 4/55
  Verifying : harfbuzz-2.7.4-10.el9.x86_64 5/55
  Verifying : libpng-2:1.6.37-12.el9.x86_64 6/55
  Verifying : mailcap-2.1.49-5.el9.noarch 7/55
  Verifying : OpenIPMI-libs-2.0.36-1.el9.x86_64 8/55
  Verifying : apr-1.7.0-12.el9.x86_64 9/55
  Verifying : apr-util-1.6.1-23.el9.x86_64 10/55
  Verifying : apr-util-bdb-1.6.1-23.el9.x86_64 11/55
  Verifying : apr-util-openssl-1.6.1-23.el9.x86_64 12/55
  Verifying : centos-logos-httpd-90.8-3.el9.noarch 13/55
  Verifying : fontconfig-2.14.0-2.el9.x86_64 14/55
  Verifying : gd-2.3.2-3.el9.x86_64 15/55
  Verifying : httpd-2.4.62-4.el9.x86_64 16/55
  Verifying : httpd-core-2.4.62-4.el9.x86_64 17/55
  Verifying : httpd-filesystem-2.4.62-4.el9.noarch 18/55
  Verifying : httpd-tools-2.4.62-4.el9.x86_64 19/55
  Verifying : jbigkit-libs-2.1-23.el9.x86_64 20/55
  Verifying : langpacks-core-font-en-3.0-16.el9.noarch 21/55
  Verifying : libX11-1.7.0-11.el9.x86_64 22/55
  Verifying : libX11-common-1.7.0-11.el9.noarch 23/55
  Verifying : libXau-1.0.9-8.el9.x86_64 24/55
  Verifying : libXpm-3.5.13-10.el9.x86_64 25/55
  Verifying : libjpeg-turbo-2.0.90-7.el9.x86_64 26/55
  Verifying : libtiff-4.4.0-13.el9.x86_64 27/55
  Verifying : libwebp-1.2.0-8.el9.x86_64 28/55
  Verifying : libxcb-1.13.1-9.el9.x86_64 29/55
  Verifying : libxslt-1.1.34-12.el9.x86_64 30/55
  Verifying : mariadb-connector-c-3.2.6-1.el9.x86_64 31/55
  Verifying : mariadb-connector-c-config-3.2.6-1.el9.noarch 32/55
  Verifying : mod_http2-2.0.26-4.el9.x86_64 33/55
  Verifying : mod_lua-2.4.62-4.el9.x86_64 34/55
  Verifying : net-snmp-libs-1:5.9.1-17.el9.x86_64 35/55
  Verifying : nginx-filesystem-2:1.20.1-22.el9.noarch 36/55
  Verifying : php-bcmath-8.0.30-2.el9.x86_64 37/55
  Verifying : php-common-8.0.30-2.el9.x86_64 38/55
  Verifying : php-fpm-8.0.30-2.el9.x86_64 39/55
  Verifying : php-gd-8.0.30-2.el9.x86_64 40/55
  Verifying : php-ldap-8.0.30-2.el9.x86_64 41/55
  Verifying : php-mbstring-8.0.30-2.el9.x86_64 42/55
  Verifying : php-mysqlnd-8.0.30-2.el9.x86_64 43/55
  Verifying : php-pdo-8.0.30-2.el9.x86_64 44/55
  Verifying : php-xml-8.0.30-2.el9.x86_64 45/55
  Verifying : unixODBC-2.3.9-4.el9.x86_64 46/55
  Verifying : xml-common-0.6.3-58.el9.noarch 47/55
  Verifying : zabbix-agent-6.4.21-release1.el9.x86_64 48/55
  Verifying : zabbix-apache-conf-6.4.21-release1.el9.noarch 49/55
  Verifying : zabbix-server-mysql-6.4.21-release1.el9.x86_64 50/55
  Verifying : zabbix-sql-scripts-6.4.21-release1.el9.noarch 51/55
  Verifying : zabbix-web-6.4.21-release1.el9.noarch 52/55
  Verifying : zabbix-web-deps-6.4.21-release1.el9.noarch 53/55
  Verifying : zabbix-web-mysql-6.4.21-release1.el9.noarch 54/55
  Verifying : fping-5.1-1.el9.x86_64 55/55
Installed products updated.

Installed:
  OpenIPMI-libs-2.0.36-1.el9.x86_64
  apr-1.7.0-12.el9.x86_64
  apr-util-1.6.1-23.el9.x86_64
  apr-util-bdb-1.6.1-23.el9.x86_64
  apr-util-openssl-1.6.1-23.el9.x86_64
  centos-logos-httpd-90.8-3.el9.noarch
  dejavu-sans-fonts-2.37-18.el9.noarch
  fontconfig-2.14.0-2.el9.x86_64
  fonts-filesystem-1:2.0.5-7.el9.1.noarch
  fping-5.1-1.el9.x86_64
  freetype-2.10.4-9.el9.x86_64
  gd-2.3.2-3.el9.x86_64
  graphite2-1.3.14-9.el9.x86_64
  harfbuzz-2.7.4-10.el9.x86_64
  httpd-2.4.62-4.el9.x86_64
  httpd-core-2.4.62-4.el9.x86_64
  httpd-filesystem-2.4.62-4.el9.noarch
  httpd-tools-2.4.62-4.el9.x86_64
  jbigkit-libs-2.1-23.el9.x86_64
  langpacks-core-font-en-3.0-16.el9.noarch
  libX11-1.7.0-11.el9.x86_64
  libX11-common-1.7.0-11.el9.noarch
  libXau-1.0.9-8.el9.x86_64
  libXpm-3.5.13-10.el9.x86_64
  libjpeg-turbo-2.0.90-7.el9.x86_64
  libpng-2:1.6.37-12.el9.x86_64
  libtiff-4.4.0-13.el9.x86_64
  libwebp-1.2.0-8.el9.x86_64
  libxcb-1.13.1-9.el9.x86_64
  libxslt-1.1.34-12.el9.x86_64
  mailcap-2.1.49-5.el9.noarch
  mariadb-connector-c-3.2.6-1.el9.x86_64
  mariadb-connector-c-config-3.2.6-1.el9.noarch
  mod_http2-2.0.26-4.el9.x86_64
  mod_lua-2.4.62-4.el9.x86_64
  net-snmp-libs-1:5.9.1-17.el9.x86_64
  nginx-filesystem-2:1.20.1-22.el9.noarch
  php-bcmath-8.0.30-2.el9.x86_64
  php-common-8.0.30-2.el9.x86_64
  php-fpm-8.0.30-2.el9.x86_64
  php-gd-8.0.30-2.el9.x86_64
  php-ldap-8.0.30-2.el9.x86_64
  php-mbstring-8.0.30-2.el9.x86_64
  php-mysqlnd-8.0.30-2.el9.x86_64
  php-pdo-8.0.30-2.el9.x86_64
  php-xml-8.0.30-2.el9.x86_64
  unixODBC-2.3.9-4.el9.x86_64
  xml-common-0.6.3-58.el9.noarch
  zabbix-agent-6.4.21-release1.el9.x86_64
  zabbix-apache-conf-6.4.21-release1.el9.noarch
  zabbix-server-mysql-6.4.21-release1.el9.x86_64
  zabbix-sql-scripts-6.4.21-release1.el9.noarch
  zabbix-web-6.4.21-release1.el9.noarch
  zabbix-web-deps-6.4.21-release1.el9.noarch
  zabbix-web-mysql-6.4.21-release1.el9.noarch

Complete!
Updating Subscription Management repositories.
Unable to read consumer identity

This system is not registered with an entitlement server. You can use subscription-manager to register.

31 files removed
--> 06ddd1146745
STEP 3/6: RUN sed -i 's/#PermitRootLogin.*/PermitRootLogin yes/' /etc/ssh/sshd_config
--> 07f668cc6c58
STEP 4/6: RUN echo -e "TYPE=Ethernet\nPROXY_METHOD=none\nBROWSER_ONLY=no\nBOOTPROTO=none\nIPADDR=192.168.10.55\nNETMASK=255.255.255.0\nGATEWAY=192.168.10.254\nDNS1=8.8.8.8" > /etc/sysconfig/network-scripts/ifcfg-eth0
--> d36eb91d5c6c
STEP 5/6: RUN systemctl enable sshd zabbix-server zabbix-agent httpd
Created symlink /etc/systemd/system/multi-user.target.wants/zabbix-server.service → /usr/lib/systemd/system/zabbix-server.service.
Created symlink /etc/systemd/system/multi-user.target.wants/zabbix-agent.service → /usr/lib/systemd/system/zabbix-agent.service.
Created symlink /etc/systemd/system/multi-user.target.wants/httpd.service → /usr/lib/systemd/system/httpd.service.
--> 8bf0c2c92cfa
STEP 6/6: RUN bootc container lint
Lint warning: sysusers: Found /etc/passwd entry without corresponding systemd sysusers.d:
  zabbix
Found /etc/group entry without corresponding systemd sysusers.d:
  zabbix

Lint warning: var-log: Found non-empty logfile: /var/log/dnf.librepo.log (and 4 more)
Lint warning: var-tmpfiles: Found content in /var missing systemd tmpfiles.d entries:
  d /var/cache/dnf/appstream-831abc7e9d6a1a72 0755 root root - -
  d /var/cache/dnf/appstream-831abc7e9d6a1a72/packages 0755 root root - -
  d /var/cache/dnf/appstream-831abc7e9d6a1a72/repodata 0755 root root - -
  d /var/cache/dnf/baseos-044cae74d71fe9ea 0755 root root - -
  d /var/cache/dnf/baseos-044cae74d71fe9ea/packages 0755 root root - -
  ...and 33 more
Found non-directory/non-symlink files in /var:
  var/lib/dnf/history.sqlite
  var/lib/dnf/history.sqlite-shm
  var/lib/dnf/history.sqlite-wal
  var/lib/dnf/repos/appstream-831abc7e9d6a1a72/countme
  var/lib/dnf/repos/baseos-044cae74d71fe9ea/countme
  ...and 12 more

Checks passed: 9
Checks skipped: 1
Warnings: 3
COMMIT localhost:5000/bootc-zabbix-os:v1
--> bdc1a2dea870
Successfully tagged localhost:5000/bootc-zabbix-os:v1
bdc1a2dea8707bb676be9e8a940e95a721afd1d1f01b40f71f9e21d15cb3fd89





(3) 비밀번호 설정 파일 생성
vi config.toml
------------------------
[[customizations.user]]
name = "root"
password = "V7d^L3q$R9@KtP5!mF8*"
groups = ["wheel"]

[[customizations.user]]
name = "admin"
password = "X2y&8z#Q!pL9wE$rT6%"
groups = ["wheel"]






(4) 컨테이너 ISO 추출

# 출력 디렉토리 생성
sudo mkdir -p ./output

# ISO 빌드
sudo podman run --rm -it --privileged \
  --security-opt label=type:unconfined_t \
  -v $(pwd)/output:/output \
  -v /var/lib/containers/storage:/var/lib/containers/storage \
  -v $(pwd)/config.toml:/config.toml:ro \
  quay.io/centos-bootc/bootc-image-builder:latest \
  --type iso \
  --config /config.toml \
  --local \
  localhost:5000/bootc-zabbix-os:v1

WARNING: --local is now the default behavior, you can remove it from the command line
[-] Image building step
[9 / 9] Pipeline bootiso [----------------------------------------------------------------------------------------------------------------------------------------------------------------------->] 100.00%
[3 / 3] Stage org.osbuild.implantisomd5 [-------------------------------------------------------------------------------------------------------------------------------------------------------->] 100.00%
Message: Results saved in .

